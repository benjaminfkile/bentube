(this.webpackJsonptubio=this.webpackJsonptubio||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a(17)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(7),i=a.n(r),o=(a(13),a(1)),l=a(2),u=a(3),c=a(4),d=a(5),m=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s)))._duration=0,e._progress=0,e._serverURL="https://frozen-thicket-30265.herokuapp.com/downloadmp3?url=",e.nextCallback=function(){e.props.next()},e.durationCallback=function(){e.props.duration(e._duration)},e.progressCallback=function(){e.props.progress(e._progress)},e.listenForAudio=function(){var t=document.getElementById("audio");t?(e._duration=t.duration,e._progress=t.currentTime,e.durationCallback(),e.progressCallback()):(e._duration=0,e._progress=0)},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this._interval=setInterval(this.listenForAudio,1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this._interval)}},{key:"render",value:function(){return s.a.createElement("div",{className:"Media_Player"},this.props.videoId&&s.a.createElement("audio",{id:"audio",src:this._serverURL+this.props.videoId,onEnded:this.nextCallback,controls:!0,autoPlay:!0}))}}]),a}(n.Component),p=(a(14),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{id:"bars"},s.a.createElement("div",{className:"bar"}),s.a.createElement("div",{className:"bar"}),s.a.createElement("div",{className:"bar"}),s.a.createElement("div",{className:"bar"}),s.a.createElement("div",{className:"bar"}),s.a.createElement("div",{className:"bar"}),s.a.createElement("div",{className:"bar"}),s.a.createElement("div",{className:"bar"}),s.a.createElement("div",{className:"bar"}),s.a.createElement("div",{className:"bar"}),s.a.createElement("div",{className:"bar"}),s.a.createElement("div",{className:"bar"}),s.a.createElement("div",{className:"bar"}),s.a.createElement("div",{className:"bar"}),s.a.createElement("div",{className:"bar"}),s.a.createElement("div",{className:"bar"}),s.a.createElement("div",{className:"bar"}),s.a.createElement("div",{className:"bar"}),s.a.createElement("div",{className:"bar"}),s.a.createElement("div",{className:"bar"})))}}]),a}(n.Component)),h=(a(15),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).decoderNext=function(){e.next(e.state.queu[e.state.idx])},e.decoderDuration=function(t){t&&e.setState({duration:new Date(1e3*t).toISOString().substr(12,7)})},e.decoderProgress=function(t){t&&e.setState({progress:new Date(1e3*t).toISOString().substr(12,7)})},e.playTrack=function(t){var a=document.getElementById("audio");a&&a.pause(),t?e.setState({nowPlaying:t.id,idx:t.idx,pause:!0}):e.state.nowPlaying?(e.setState({pause:!0}),a.play()):e.setState({idx:0,nowPlaying:e.state.queu[0].id,pause:!0})},e.pause=function(){document.getElementById("audio").pause(),e.setState({pause:!1})},e.next=function(t){if(e.setState({pause:!0}),e.state.shuffle){var a=Math.floor(Math.random()*e.state.queu.length);e.setState({idx:a,nowPlaying:e.state.queu[a].id})}else t.idx<e.state.queu.length-1?e.setState({idx:e.state.idx+1,nowPlaying:e.state.queu[e.state.idx+1].id}):e.setState({idx:0,nowPlaying:e.state.queu[0].id})},e.previous=function(t){e.setState({pause:!0}),t.idx>0?e.setState({idx:e.state.idx-1,nowPlaying:e.state.queu[e.state.idx-1].id}):e.setState({idx:e.state.queu.length-1,nowPlaying:e.state.queu[e.state.queu.length-1].id})},e.shuffle=function(){e.state.shuffle?e.setState({shuffle:!1}):e.setState({shuffle:!0})},e.listen4DB=function(){e.props.response&&(e.setState({waiting4DB:!1}),e.stopListening4DB())},e.stopListening4DB=function(){clearInterval(e.state.interval1),e.buildQueu()},e.buildQueu=function(){var t=[],a=-1;if(e.props.response){for(var n=0;n<e.props.response.items.length;n++)if(e.props.response.items[n].id.videoId){a++;var s=e.props.response.items[n].snippet.publishedAt;s=s.split("T"),t.push({title:e.props.response.items[n].snippet.title,description:e.props.response.items[n].snippet.description,thumbnail:e.props.response.items[n].snippet.thumbnails.high.url,id:e.props.response.items[n].id.videoId,published:s[0],idx:a})}e.setState({queu:t})}},e.state={nowPlaying:null,queu:null,waiting4DB:!0,idx:0,interval1:1e3,pause:!1,duration:null,progress:null,shuffle:!1},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.listen4DB()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"Results"},this.state.queu&&s.a.createElement("div",{className:"Controls"},s.a.createElement("section",null,s.a.createElement("img",{src:this.state.queu[this.state.idx].thumbnail,alt:"oops",height:"85",width:"115"}),s.a.createElement("h1",{dangerouslySetInnerHTML:{__html:this.state.queu[this.state.idx].title}})),s.a.createElement("div",{className:"Buttons"},s.a.createElement("img",{id:"Prev_Btn",src:"./res/prev.png",alt:"=<<",onClick:function(){return e.previous(e.state.queu[e.state.idx])}}),!this.state.pause&&s.a.createElement("img",{id:"Play_Btn",src:"./res/play.png",alt:">",onClick:function(){return e.playTrack()}}),this.state.pause&&s.a.createElement("img",{id:"Pause_Btn",src:"./res/pause.png",alt:"||",onClick:function(){return e.pause()}}),s.a.createElement("img",{id:"Next_Btn",src:"./res/next.png",alt:">>",onClick:function(){return e.next(e.state.queu[e.state.idx])}}),this.state.progress&&this.state.duration&&s.a.createElement("p",null,this.state.progress,"/",this.state.duration),!this.state.shuffle&&s.a.createElement("img",{id:"Shuffle_Btn",src:"./res/shuffle.png",alt:"shuflle",onClick:function(){return e.shuffle()}}),this.state.shuffle&&s.a.createElement("img",{id:"No_Shuffle_Btn",src:"./res/no-shuffle.png",alt:"shuflle",onClick:function(){return e.shuffle()}})),this.state.pause&&s.a.createElement(p,null)),this.state.queu&&s.a.createElement("div",{className:"List"},s.a.createElement("ul",null,this.state.queu.map((function(t){return s.a.createElement("div",{className:"Item",tabIndex:t.idx,key:Math.random()*Math.random(),onClick:function(){return e.playTrack(t)}},s.a.createElement("div",{className:"Image"},s.a.createElement("img",{src:t.thumbnail,alt:"Smiley face",height:"90",width:"120"})),s.a.createElement("div",{className:"Info"},s.a.createElement("li",{dangerouslySetInnerHTML:{__html:t.title}}),s.a.createElement("p",null,t.published)))})))),s.a.createElement(m,{videoId:this.state.nowPlaying,next:this.decoderNext,duration:this.decoderDuration,progress:this.decoderProgress}))}}]),a}(n.Component)),f=(a(16),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).handleSubmit=function(){e.setState({response:null});var t=document.getElementById("text").value;"Search for Music, News, Lyrics..."!==t&&(e.getVideos(t,e.state.maxResults),document.getElementById("text").value="")},e.keyPress=function(t){"Search for Music, News, Lyrics..."===document.getElementById("text").value&&(document.getElementById("text").value=""),13===t.keyCode&&e.handleSubmit()},e.formatQueryParams=function(e){return Object.keys(e).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))})).join("&")},e.getVideos=function(t,a){e.setState({requests:e.state.requests+1}),e.setState({error:!1});var n={key:e.state.apiKey,q:t,part:"snippet",maxResults:a},s=e.formatQueryParams(n),r=e.state.searchURL+"?"+s;fetch(r).then((function(e){if(e.ok)return e.json();throw new Error(e.statusText)})).then((function(t){return e.setState({response:t})})).catch((function(t){console.log(t.message),e.setState({error:!0})}))},e.state={apiKey:"AIzaSyDxOOZG9aTnOFsxkvv9dBc3SSG242dPc_4",searchURL:"https://www.googleapis.com/youtube/v3/search",baseURL:"https://www.youtube.com/watch?v=",response:null,value:"",maxResults:50,requests:0,error:!1},e.keyPress=e.keyPress.bind(Object(d.a)(e)),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getVideos("new music",50)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"Search"},s.a.createElement("form",{className:"Search_Form"},s.a.createElement("textarea",{id:"text",type:"text",onKeyDown:this.keyPress}),s.a.createElement("img",{id:"Go_Btn",src:"./res/go.png",alt:"=>",onClick:function(){return e.handleSubmit()}})),this.state.error&&s.a.createElement("div",{className:"Error"},s.a.createElement("h1",null,"Sorry, something went wrong :(")),!this.state.error&&s.a.createElement(h,{key:Math.random(),response:this.state.response}))}}]),a}(n.Component)),v=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(f,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.03fb261e.chunk.js.map